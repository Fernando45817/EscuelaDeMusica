import{d as k,T as S,g as c,a as d,u as l,b as s,t as u,h as _,n as b,c as f,f as P,p as I,i as B,o as r,Z as C,r as $,j as R,s as q,k as z,l as F}from"./app-381c9ebb.js";import{T as h,_ as v}from"./TextInput-b1f6dc20.js";import{C as V}from"./Checkbox-3ae8dd6a.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";const y=i=>(I("data-v-798f22be"),i=i(),B(),i),T={class:"bg-[#f0f0ff] calibri"},G={class:"d-flex w-full text-center text-2xl font-bold mt-3"},A={class:"inline-flex w-full mt-5 mb-2 justify-center"},H=y(()=>s("div",{class:"p-1 ml-2"},[s("img",{src:"/img/google.svg",width:"25",alt:"google brightsprout"})],-1)),N={class:"mr-4 text-sm"},O={class:"mx-4 fieldset text-center"},D={class:"or"},W={key:0,class:"mb-4 font-medium text-sm text-green-600 text-center"},Z={class:"flex w-[90%] mx-auto"},J=y(()=>s("div",{class:"flex w-[20%] justify-end"},[s("span",{class:"font-bold mr-1 mt-2 text-sm"},"Email: ")],-1)),K={class:"flex w-[80%] flex-grow"},Q={class:"flex w-[90%] mx-auto mt-3"},X={class:"flex w-[20%] justify-end"},Y={class:"font-bold mr-1 mt-2 text-sm"},ss={class:"flex w-[80%]"},es={class:"block mt-2"},os={class:"grid grid-cols-8"},ts=y(()=>s("div",{class:"col-span-2 inline-flex"},null,-1)),ls=["href"],as={class:"grid grid-cols-10 mt-8"},ns={class:"col-span-6 inline-flex"},rs={class:"col-span-4 inline-flex justify-end items-center"},is=["disabled"],ds={key:0,class:"flex justify-center"},cs=y(()=>s("svg",{class:"animate-spin h-5 w-5 mr-3 fill-black",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),us={class:"text-sm"},ms={key:1,class:"text-sm"},gs=y(()=>s("div",{class:"flex w-full justify-center absolute bottom-4"},[s("img",{class:"h-[1.641rem] w-auto",src:"/img/brightsprout.svg",alt:"brightsprout"})],-1)),ps=k({__name:"IndexPage",props:{canResetPassword:{type:Boolean},loading:{type:Boolean},status:{},socialError:{type:Boolean},locale:{}},emits:["forgotPassword","googleBtn","submit"],setup(i,{emit:n}){const e=S({email:"",password:"",remember:!1,client:window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets"}),m=()=>{n("googleBtn");const o=window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets";window.open(`/auth/redirect/google?client=${o}`,"_blank")};return(o,t)=>(r(),c("div",T,[d(l(C),{title:"Log in"}),s("div",G,u(o.$t("auth.login.login")),1),s("div",A,[s("a",{class:"google-btn",onClick:m},[H,s("span",N,u(o.$t("auth.continue_with_google")),1)])]),s("fieldset",O,[s("legend",D,u(o.$t("auth.or")),1)]),o.status?(r(),c("div",W,u(o.status),1)):_("",!0),s("form",{class:"flex flex-col justify-center",onSubmit:t[5]||(t[5]=P(a=>n("submit",l(e)),["prevent"]))},[s("div",Z,[J,s("div",K,[d(h,{modelValue:l(e).email,"onUpdate:modelValue":t[0]||(t[0]=a=>l(e).email=a),"is-crosswords":!0,class:"mt-1 w-full",id:"email",type:"email",required:"",autocomplete:"username"},null,8,["modelValue"])])]),s("div",Q,[s("div",X,[s("span",Y,u(o.$t("auth.password")),1)]),s("div",ss,[d(h,{modelValue:l(e).password,"onUpdate:modelValue":t[1]||(t[1]=a=>l(e).password=a),class:"mt-1 w-full","is-crosswords":!0,id:"password",type:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"])])]),s("div",es,[s("div",os,[ts,s("div",{class:b(["col-span-6 inline-flex justify-between items-center",{"mx-2":o.locale==="en"}])},[o.canResetPassword?(r(),c("div",{key:0,href:o.route("password.request"),class:"hover:underline mt-1 text-xs cursor-pointer text-black hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:t[2]||(t[2]=a=>n("forgotPassword"))},u(o.$t("auth.forgot_password")),9,ls)):_("",!0),s("div",{class:"cursor-pointer",onClick:t[4]||(t[4]=a=>l(e).remember=!l(e).remember)},[d(V,{name:"remember",checked:l(e).remember,"onUpdate:checked":t[3]||(t[3]=a=>l(e).remember=a)},null,8,["checked"]),s("span",{class:b(["ml-2 text-xs",o.locale==="en"?"mr-10":"mr-4"])},u(o.$t("auth.stay_signed_in")),3)])],2)])]),s("div",as,[s("div",ns,[d(v,{class:"ma-2 pl-4","is-crosswords":"",message:l(e).errors.email??l(e).errors.password},null,8,["message"]),o.socialError?(r(),f(v,{key:0,class:"ma-2 pl-2 color-[#00e]",message:"Error: Please check your internet connection and try again."})):_("",!0)]),s("div",rs,[s("button",{type:"submit",class:b(["submit-btn",{"opacity-50":o.loading}]),disabled:o.loading},[o.loading?(r(),c("span",ds,[cs,s("span",us,u(o.$t("auth.loading")),1)])):(r(),c("span",ms,u(o.$t("auth.login.sign_in")),1))],10,is)])]),gs],32)]))}});const ws=j(ps,[["__scopeId","data-v-798f22be"]]),p=i=>(I("data-v-a857b2cb"),i=i(),B(),i),_s={class:"bg-white calibri p-2"},fs=p(()=>s("div",{class:"p-1 ml-2"},[s("img",{src:"/img/google.svg",width:"25",alt:"google brightsprout"})],-1)),hs=p(()=>s("span",{class:"mr-4 text-sm"},"Continue with Google",-1)),vs=[fs,hs],bs=p(()=>s("fieldset",{class:"mx-4 fieldset text-center"},[s("legend",{class:"or"},"OR")],-1)),ys={key:0,class:"mb-4 font-medium text-sm text-green-600 text-center"},xs={class:"flex flex-col mx-auto"},$s=p(()=>s("div",{class:"flex justify-start"},[s("span",{class:"font-bold mr-1 mt-2 text-sm"},"Email: ")],-1)),ks={class:"flex flex-col mx-auto mt-2"},Ss=p(()=>s("div",{class:"flex justify-start"},[s("span",{class:"font-bold mr-1 mt-2 text-sm"},"Password: ")],-1)),Ps={class:"flex flex-col ml-8 mt-2"},Is=p(()=>s("span",{class:"ml-2 mr-10 text-xs"},"Stay signed in",-1)),Bs={class:"grid grid-cols-10 mt-8"},Cs={class:"col-span-6 inline-flex"},Vs={class:"col-span-4 inline-flex justify-end items-center"},js=["disabled"],Ls={key:0,class:"flex justify-center"},Es=p(()=>s("svg",{class:"animate-spin h-5 w-5 mr-3 fill-black",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),Ms=p(()=>s("span",{class:"text-sm"},"Loading",-1)),Us=[Es,Ms],Rs={key:1,class:"text-sm"},qs=p(()=>s("div",{class:"flex w-full justify-center"},[s("img",{class:"h-[1.641rem] w-auto absolute bottom-2",src:"/img/brightsprout.svg",alt:"brightsprout"})],-1)),zs=k({__name:"IndexPage",props:{canResetPassword:{type:Boolean},loading:{type:Boolean},status:{},socialError:{type:Boolean}},emits:["forgotPassword","googleBtn","submit"],setup(i,{emit:n}){const e=S({email:"",password:"",remember:!1,client:window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets"}),m=()=>{n("googleBtn");const o=window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets";window.open(`/auth/redirect/google?client=${o}`,"_blank")};return(o,t)=>(r(),c("div",_s,[d(l(C),{title:"Log in"}),s("div",{class:"inline-flex w-full mt-5 mb-2 justify-center"},[s("a",{class:"google-btn",onClick:m},vs)]),bs,o.status?(r(),c("div",ys,u(o.status),1)):_("",!0),s("form",{class:"flex flex-col justify-center",onSubmit:t[4]||(t[4]=P(a=>n("submit",l(e)),["prevent"]))},[s("div",xs,[$s,d(h,{modelValue:l(e).email,"onUpdate:modelValue":t[0]||(t[0]=a=>l(e).email=a),"is-crosswords":!0,class:"mt-1 w-full",id:"email",type:"email",required:"",autocomplete:"username"},null,8,["modelValue"])]),s("div",ks,[Ss,d(h,{modelValue:l(e).password,"onUpdate:modelValue":t[1]||(t[1]=a=>l(e).password=a),class:"mt-1 w-full","is-crosswords":!0,id:"password",type:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),s("div",Ps,[s("div",{class:"cursor-pointer",onClick:t[3]||(t[3]=a=>l(e).remember=!l(e).remember)},[d(V,{name:"remember",checked:l(e).remember,"onUpdate:checked":t[2]||(t[2]=a=>l(e).remember=a)},null,8,["checked"]),Is])]),s("div",Bs,[s("div",Cs,[d(v,{class:"ma-2 pl-4","is-crosswords":"",message:l(e).errors.email??l(e).errors.password},null,8,["message"]),o.socialError?(r(),f(v,{key:0,class:"ma-2 pl-2 color-[#00e]",message:"Error: Please check your internet connection and try again."})):_("",!0)]),s("div",Vs,[s("button",{type:"submit",class:b(["submit-btn",{"opacity-50":o.loading}]),disabled:o.loading},[o.loading?(r(),c("span",Ls,Us)):(r(),c("span",Rs,"Sign In"))],10,js)])]),qs],32)]))}});const Fs=j(zs,[["__scopeId","data-v-a857b2cb"]]),w=i=>(I("data-v-06faadec"),i=i(),B(),i),Ts={class:"bg-white open-sans"},Gs=w(()=>s("div",{class:"d-flex w-full text-center text-3xl font-extralight mt-6 login-title"}," Log In ",-1)),As=w(()=>s("div",{class:"p-4 ml-2"},[s("img",{src:"/img/google.svg",width:"25",alt:"google brightsprout"})],-1)),Hs=w(()=>s("span",{class:"mr-8"},"Continue with Google",-1)),Ns=[As,Hs],Os=w(()=>s("fieldset",{class:"fieldset"},[s("legend",{class:"or"},"OR")],-1)),Ds={class:"grid grid-rows-1"},Ws=w(()=>s("div",{class:""},"Email:",-1)),Zs={class:"grid grid-rows-1 mt-6"},Js=w(()=>s("div",{class:"p-0 m-0"},"Password:",-1)),Ks={class:"w-full"},Qs={class:"flex justify-between mx-2 text-xs mt-2"},Xs={class:"flex items-center"},Ys=w(()=>s("span",{class:"ml-2 text-sm text-gray-600"},"Stay Signed In",-1)),se={class:"grid grid-cols-10 mt-8"},ee={class:"col-span-6 inline-flex"},oe={class:"col-span-4 inline-flex justify-end items-center"},te=["disabled"],le={key:0,class:"flex justify-center"},ae=w(()=>s("svg",{class:"animate-spin h-5 w-5 mr-3 fill-black",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),ne=w(()=>s("span",null,"Loading",-1)),re=[ae,ne],ie={key:1},de=k({__name:"IndexPage",props:{canResetPassword:{type:Boolean},loading:{type:Boolean},status:{},socialError:{type:Boolean}},emits:["submit","forgotPassword"],setup(i,{emit:n}){const e=S({email:"",password:"",remember:!1,client:window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets"}),m=()=>{const o=window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets";window.open(`/auth/redirect/google?client=${o}`,"_blank")};return(o,t)=>(r(),c("div",Ts,[d(l(C),{title:"Log in"}),Gs,s("div",{class:"inline-flex w-full mt-4 mb-4 justify-center"},[s("a",{class:"google-btn",onClick:m},Ns)]),Os,s("form",{class:"mx-1",onSubmit:t[4]||(t[4]=P(a=>n("submit",l(e)),["prevent"]))},[s("div",Ds,[Ws,d(h,{id:"email",class:"w-full",type:"email",modelValue:l(e).email,"onUpdate:modelValue":t[0]||(t[0]=a=>l(e).email=a),required:"",autocomplete:"username"},null,8,["modelValue"])]),s("div",Zs,[Js,s("div",Ks,[d(h,{id:"password",type:"password",class:"w-full",modelValue:l(e).password,"onUpdate:modelValue":t[1]||(t[1]=a=>l(e).password=a),required:"",autocomplete:"current-password"},null,8,["modelValue"])]),s("div",Qs,[o.canResetPassword?(r(),c("div",{key:0,class:"underline cursor-pointer text-sm text-black hover:text-gray-900 rounded-md focus:outline-none focus:ring-1 focus:ring-offset-2",onClick:t[2]||(t[2]=a=>n("forgotPassword"))}," Forgot password? ")):_("",!0),s("div",Xs,[d(V,{name:"remember",checked:l(e).remember,"onUpdate:checked":t[3]||(t[3]=a=>l(e).remember=a)},null,8,["checked"]),Ys])])]),s("div",se,[s("div",ee,[d(v,{class:"ma-2 pl-2",message:l(e).errors.email??l(e).errors.password},null,8,["message"]),o.socialError?(r(),f(v,{key:0,class:"ma-2 pl-2 color-[#00e]",message:"Error: Please check your internet connection and try again."})):_("",!0)]),s("div",oe,[s("button",{type:"submit",class:b(["submit-btn",{"opacity-50":o.loading}]),disabled:o.loading},[o.loading?(r(),c("span",le,re)):(r(),c("span",ie,"Log In"))],10,te)])])],32)]))}});const ce=j(de,[["__scopeId","data-v-06faadec"]]),ue={class:"bg-[#F5F5F5]"},_e=k({__name:"Login",props:{canResetPassword:{type:Boolean},status:{},socialError:{type:Boolean},locale:{}},setup(i){const n=i,e=$(!1),m=$(""),o=$(!1),t=$(""),a=g=>{sessionStorage.removeItem("isLoggedIn"),e.value=!0;try{g.post(t.value,{onSuccess:()=>{window.parent.postMessage("loginSuccess","*"),g.reset("password"),sessionStorage.setItem("isLoggedIn","true")},onError:()=>{e.value=!1}})}catch{e.value=!1}},E=()=>{e.value=!0,window.parent.postMessage("loginSocialSuccess","*")},M=g=>{e.value=!0,window.parent.postMessage({message:"registerSuccess",email:g},"*")},L=()=>{window.parent.postMessage("forgotPasswordTab","*")};return R(()=>{if(m.value=window.name,window.name.includes("printable")&&(o.value=!0),window.addEventListener("message",async g=>{g.data==="loginSocialSuccess"&&(sessionStorage.setItem("isLoggedIn","true"),E()),g.data.message==="registerSuccess"&&(sessionStorage.setItem("isLoggedIn","true"),M(g.data.email))}),q.includes(n.locale)){z.global.locale.value=n.locale,t.value=`/${n.locale}/login`;return}t.value=route("loginSanctum")}),F(()=>{window.parent.postMessage("loginLoaded","*")}),(g,x)=>(r(),c("div",ue,[["crosswords","wordsearches"].includes(m.value)?(r(),f(ws,{key:0,"can-reset-password":n.canResetPassword,loading:e.value,status:n.status,"social-error":n.socialError,locale:n.locale,onForgotPassword:L,onGoogleBtn:x[0]||(x[0]=U=>e.value=!0),onSubmit:a},null,8,["can-reset-password","loading","status","social-error","locale"])):m.value.includes("mobile")?(r(),f(Fs,{key:1,"social-error":n.socialError,loading:e.value,onGoogleBtn:x[1]||(x[1]=U=>e.value=!0),onSubmit:a},null,8,["social-error","loading"])):(r(),f(ce,{key:2,"can-reset-password":n.canResetPassword,loading:e.value,printing:o.value,status:n.status,"social-error":n.socialError,onForgotPassword:L,onSubmit:a},null,8,["can-reset-password","loading","printing","status","social-error"]))]))}});export{_e as default};
