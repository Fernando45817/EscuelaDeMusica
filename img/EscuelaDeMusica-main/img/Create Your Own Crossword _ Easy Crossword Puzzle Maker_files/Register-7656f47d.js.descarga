import{d as k,T as I,m as z,g as c,a as d,u as o,b as s,t as p,h as $,n as V,f as j,p as P,i as B,o as n,Z as M,r as x,j as R,q as T,s as E,k as G,l as H,c as C,v as N}from"./app-381c9ebb.js";import{T as v,_ as L,u as D}from"./TextInput-b1f6dc20.js";import{C as U}from"./Checkbox-3ae8dd6a.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";const S=r=>(P("data-v-a6d4abde"),r=r(),B(),r),O={class:"bg-[#f0f0ff] calibri"},W={class:"d-flex w-full text-center text-2xl font-bold mt-3"},Z={class:"inline-flex w-full mt-5 mb-2 justify-center"},J=S(()=>s("div",{class:"p-1 ml-2"},[s("img",{src:"/img/google.svg",width:"25",alt:"google brightsprout"})],-1)),K={class:"mr-4 text-sm"},Q={class:"mx-4 fieldset text-center"},X={class:"or"},Y={class:"flex w-[90%] mx-auto"},ss=S(()=>s("div",{class:"flex w-[20%] justify-end"},[s("span",{class:"font-bold mr-1 mt-2 text-sm"},"Email: ")],-1)),es={class:"flex w-[80%] flex-grow"},os={class:"flex w-[90%] mx-auto mt-3"},ts={class:"flex w-[20%] justify-end"},ls={class:"font-bold mr-1 mt-2 text-sm"},is={class:"flex w-[80%]"},as={class:"block mt-2"},ns={class:"inline-flex w-[90%] justify-end"},rs={class:"ml-2 text-xs"},ds={class:"flex justify-center"},cs={class:"text-[13px] w-[70%]"},ms={class:"font-bold"},us={class:"flex justify-center items-center"},ps={class:"w-3/5"},gs={class:"text-xs w-2/4 inline-flex justify-end items-center"},ws=["disabled"],_s={key:0,class:"flex justify-center items-center"},fs=S(()=>s("svg",{class:"animate-spin h-5 w-5 mr-3 fill-black",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),hs={key:1,class:"whitespace-nowrap text-sm"},vs=S(()=>s("div",{class:"flex w-full justify-center absolute bottom-4"},[s("img",{class:"h-[1.641rem] w-auto",src:"/img/brightsprout.svg",alt:"brightsprout"})],-1)),bs=k({__name:"IndexPage",props:{loading:{type:Boolean},status:{}},emits:["googleBtn","submit","forgotPassword"],setup(r,{emit:m}){const e=I({email:"",password:"",remember:!1,client:window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets"}),f=()=>{const t=window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets";window.open(`/auth/redirect/google?client=${t}`,"_blank")};return z(e.errors,t=>{t.email&&(t.email=t.email.split("(")[0])}),(t,l)=>{var i;return n(),c("div",O,[d(o(M),{title:"Create Account"}),s("div",W,p(t.$t("auth.signup.create_account")),1),s("div",Z,[s("a",{class:"google-btn",onClick:f},[J,s("span",K,p(t.$t("auth.continue_with_google")),1)])]),s("fieldset",Q,[s("legend",X,p(t.$t("auth.or")),1)]),s("form",{class:"flex flex-col justify-center",onSubmit:l[5]||(l[5]=j(a=>m("submit",o(e)),["prevent"]))},[s("div",Y,[ss,s("div",es,[d(v,{modelValue:o(e).email,"onUpdate:modelValue":l[0]||(l[0]=a=>o(e).email=a),"is-crosswords":!0,class:"mt-1 w-full",id:"email",type:"email",required:"",autocomplete:"username"},null,8,["modelValue"])])]),s("div",os,[s("div",ts,[s("span",ls,p(t.$t("auth.password")),1)]),s("div",is,[d(v,{modelValue:o(e).password,"onUpdate:modelValue":l[1]||(l[1]=a=>o(e).password=a),class:"mt-1 w-full","is-crosswords":!0,id:"password",type:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"])])]),s("div",as,[s("div",ns,[s("div",{class:"cursor-pointer",onClick:l[3]||(l[3]=a=>o(e).remember=!o(e).remember)},[d(U,{name:"remember",checked:o(e).remember,"onUpdate:checked":l[2]||(l[2]=a=>o(e).remember=a)},null,8,["checked"]),s("span",rs,p(t.$t("auth.stay_signed_in")),1)])])]),s("div",ds,[s("div",cs,[s("div",ms,p(t.$t("auth.signup.only_step_title")),1),s("div",null,p(t.$t("auth.signup.only_step_description")),1)])]),s("div",us,[s("div",ps,[s("div",null,[d(L,{class:"mt-4 pl-4 color-[#00e]","is-crosswords":"",message:o(e).errors.email??o(e).errors.password},null,8,["message"])]),(i=o(e).errors.email)!=null&&i.includes("Account already exists.")?(n(),c("div",{key:0,class:"hover:underline text-[#00e] pl-4 text-xs hover:text-[#00e] focus:color-[#00e] cursor-pointer",onClick:l[4]||(l[4]=a=>m("forgotPassword"))},p(t.$t("auth.forgot_password")),1)):$("",!0)]),s("div",gs,[s("button",{type:"submit",class:V(["submit-btn",{"opacity-50":t.loading}]),disabled:t.loading},[t.loading?(n(),c("span",_s,[fs,s("span",null,p(t.$t("auth.signup.registering")),1)])):(n(),c("span",hs,p(t.$t("auth.signup.create_account"))+"!",1))],10,ws)])]),vs],32)])}}});const xs=A(bs,[["__scopeId","data-v-a6d4abde"]]),_=r=>(P("data-v-d80ea3a1"),r=r(),B(),r),ys={class:"bg-white calibri p-2"},$s=_(()=>s("div",{class:"p-1 ml-2"},[s("img",{src:"/img/google.svg",width:"25",alt:"google brightsprout"})],-1)),ks=_(()=>s("span",{class:"mr-4 text-sm"},"Continue with Google",-1)),Ss=[$s,ks],Cs=_(()=>s("fieldset",{class:"mx-4 fieldset text-center"},[s("legend",{class:"or"},"OR")],-1)),Is={key:0,class:"mb-4 font-medium text-sm text-green-600 text-center"},Vs={class:"flex flex-col mx-auto"},js=_(()=>s("div",{class:"flex justify-start"},[s("span",{class:"font-bold mr-1 mt-2 text-sm"},"Email: ")],-1)),Ps={class:"flex flex-col mx-auto mt-2"},Bs=_(()=>s("div",{class:"flex justify-start"},[s("span",{class:"font-bold mr-1 mt-2 text-sm"},"Password: ")],-1)),Ms={class:"flex flex-col ml-8 mt-2"},Ls=_(()=>s("span",{class:"ml-2 mr-10 text-xs"},"Stay signed in",-1)),Us={class:"flex flex-col mt-8"},As={class:"inline-flex"},zs={class:"inline-flex justify-end items-center mt-4"},Rs=["disabled"],qs={key:0,class:"flex justify-center items-center"},Fs=_(()=>s("svg",{class:"animate-spin h-5 w-5 mr-3 fill-black",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),Ts=_(()=>s("span",null,"Registering",-1)),Es=[Fs,Ts],Gs={key:1,class:"whitespace-nowrap text-sm"},Hs=_(()=>s("div",{class:"flex w-full justify-center"},[s("img",{class:"h-[1.641rem] w-auto absolute bottom-2",src:"/img/brightsprout.svg",alt:"brightsprout"})],-1)),Ns=k({__name:"IndexPage",props:{canResetPassword:{type:Boolean},loading:{type:Boolean},status:{}},emits:["forgotPassword","googleBtn","submit"],setup(r,{emit:m}){const e=I({email:"",password:"",remember:!1,client:window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets"}),f=()=>{m("googleBtn");const t=window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets";window.open(`/auth/redirect/google?client=${t}`,"_blank")};return(t,l)=>(n(),c("div",ys,[d(o(M),{title:"Log in"}),s("div",{class:"inline-flex w-full mt-5 mb-2 justify-center"},[s("a",{class:"google-btn",onClick:f},Ss)]),Cs,t.status?(n(),c("div",Is,p(t.status),1)):$("",!0),s("form",{class:"flex flex-col justify-center",onSubmit:l[4]||(l[4]=j(i=>m("submit",o(e)),["prevent"]))},[s("div",Vs,[js,d(v,{modelValue:o(e).email,"onUpdate:modelValue":l[0]||(l[0]=i=>o(e).email=i),"is-crosswords":!0,class:"mt-1 w-full",id:"email",type:"email",required:"",autocomplete:"username"},null,8,["modelValue"])]),s("div",Ps,[Bs,d(v,{modelValue:o(e).password,"onUpdate:modelValue":l[1]||(l[1]=i=>o(e).password=i),class:"mt-1 w-full","is-crosswords":!0,id:"password",type:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),s("div",Ms,[s("div",{class:"cursor-pointer",onClick:l[3]||(l[3]=i=>o(e).remember=!o(e).remember)},[d(U,{name:"remember",checked:o(e).remember,"onUpdate:checked":l[2]||(l[2]=i=>o(e).remember=i)},null,8,["checked"]),Ls])]),s("div",Us,[s("div",As,[d(L,{class:"ma-2 pl-4","is-crosswords":"",message:o(e).errors.email??o(e).errors.password},null,8,["message"])]),s("div",zs,[s("button",{type:"submit",class:V(["submit-btn",{"opacity-50":t.loading}]),disabled:t.loading},[t.loading?(n(),c("span",qs,Es)):(n(),c("span",Gs,"Create Account!"))],10,Rs)])]),Hs],32)]))}});const Ds=A(Ns,[["__scopeId","data-v-d80ea3a1"]]),h=r=>(P("data-v-b10e49db"),r=r(),B(),r),Os={class:"bg-white open-sans"},Ws={key:0,class:"d-flex w-full text-center text-3xl font-extralight mt-6 login-title"},Zs=h(()=>s("div",{class:"p-4 ml-2"},[s("img",{src:"/img/google.svg",width:"25",alt:"google brightsprout"})],-1)),Js=h(()=>s("span",{class:"mr-8"},"Continue with Google",-1)),Ks=[Zs,Js],Qs=h(()=>s("fieldset",{class:"fieldset"},[s("legend",{class:"or"},"OR")],-1)),Xs={class:"grid grid-rows-1"},Ys=h(()=>s("div",{class:""},"Email:",-1)),se={class:"grid grid-rows-1 mt-6"},ee=h(()=>s("div",{class:"p-0 m-0"},"Password:",-1)),oe={class:"w-full"},te={class:"flex justify-end mx-2 text-xs mt-2"},le=h(()=>s("span",{class:"ml-2 text-sm text-gray-600"},"Stay Signed In",-1)),ie={class:"grid grid-cols-10 mt-8"},ae={class:"col-span-6"},ne={class:"col-span-4 inline-flex justify-end items-center"},re=["disabled"],de={key:0,class:"flex justify-center text-center"},ce=h(()=>s("svg",{class:"animate-spin h-5 w-5 mr-3 fill-black",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),me=h(()=>s("span",null,"Loading",-1)),ue=[ce,me],pe={key:1},ge=k({__name:"IndexPage",props:{loading:{type:Boolean},status:{},printing:{type:Boolean}},emits:["submit","forgotPassword"],setup(r,{emit:m}){const e=I({email:"",password:"",remember:!1,client:window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets"}),f=D(),t=x(),l=()=>{const i=window.name.includes("wordsearch")?"wordsearches":window.name.includes("crossword")?"crosswords":"worksheets";window.open(`/auth/redirect/google?client=${i}`,"_blank")};return z(e.errors,i=>{i.email&&(i.email=i.email.split("(")[0])}),R(()=>{t.value=f.getColors(document.referrer)}),(i,a)=>{var y,b;return n(),c("div",Os,[d(o(M),{title:"Log in"}),i.printing?$("",!0):(n(),c("div",Ws," Create Account ")),s("div",{class:"inline-flex w-full mt-4 mb-4 justify-center"},[s("a",{class:"google-btn",onClick:l},Ks)]),Qs,s("form",{class:"mx-1",onSubmit:a[4]||(a[4]=j(g=>m("submit",o(e)),["prevent"]))},[s("div",Xs,[Ys,d(v,{id:"email",class:"w-full",type:"email",modelValue:o(e).email,"onUpdate:modelValue":a[0]||(a[0]=g=>o(e).email=g),required:"",autocomplete:"username"},null,8,["modelValue"])]),s("div",se,[ee,s("div",oe,[d(v,{id:"password",type:"password",class:"w-full",modelValue:o(e).password,"onUpdate:modelValue":a[1]||(a[1]=g=>o(e).password=g),required:"",autocomplete:"current-password"},null,8,["modelValue"])]),s("div",te,[s("div",null,[d(U,{name:"remember",checked:o(e).remember,"onUpdate:checked":a[2]||(a[2]=g=>o(e).remember=g)},null,8,["checked"]),le])])]),s("div",ie,[s("div",ae,[d(L,{class:"ma-2 pl-2 color-[#00e]",message:o(e).errors.email??o(e).errors.password},null,8,["message"]),(y=o(e).errors.email)!=null&&y.includes("Account already exists.")?(n(),c("div",{key:0,class:"hover:underline ml-2 text-xs rounded-md focus:outline focus cursor-pointer",style:T({color:(b=t.value)==null?void 0:b.primary}),onClick:a[3]||(a[3]=g=>m("forgotPassword"))}," Forgot Password? ",4)):$("",!0)]),s("div",ne,[s("button",{type:"submit",class:V(["submit-btn",{"opacity-50":i.loading}]),disabled:i.loading},[i.loading?(n(),c("span",de,ue)):(n(),c("span",pe,"Create Account"))],10,re)])])],32)])}}});const we=A(ge,[["__scopeId","data-v-b10e49db"]]),_e={class:"bg-[#F5F5F5]"},xe=k({__name:"Register",props:{locale:{}},setup(r){const m=r,e=x(!1),f=x(""),t=x(!1),l=x(""),i=async u=>{sessionStorage.removeItem("isLoggedIn"),e.value=!0,window.parent.postMessage({loading:!0},"*"),await N.post(l.value,u).then(w=>{w.data.message==="messages.success"?(window.parent.postMessage({message:"registerSuccess",email:u.email,remember:u.remember},"*"),sessionStorage.setItem("isLoggedIn","true"),window.close()):(u.errors.email=w.data.message.replace("messages.",""),e.value=!1,window.parent.postMessage({loading:!1},"*"))}).catch(w=>{console.log(w),window.parent.postMessage({loading:!1},"*")})},a=()=>{e.value=!0,window.parent.postMessage("loginSocialSuccess","*")},y=u=>{e.value=!0,window.parent.postMessage({message:"registerSuccess",email:u},"*")},b=window.name.includes("mobile");R(()=>{if(f.value=q(),window.name.includes("printable")&&(t.value=!0),window.addEventListener("message",async u=>{u.data==="loginSocialSuccess"&&(sessionStorage.setItem("isLoggedIn","true"),a()),u.data.message==="registerSuccess"&&(sessionStorage.setItem("isLoggedIn","true"),y(u.data.email))}),E.includes(m.locale)){G.global.locale.value=m.locale,l.value=`/${m.locale}/register`;return}l.value=route("register")}),H(()=>{window.parent.postMessage("signUpLoaded","*")});const g=()=>{window.parent.postMessage("forgotPasswordTab","*")},q=()=>window.name.includes("mobile-")?window.name.split("mobile-")[1]:window.name;return(u,w)=>(n(),c("div",_e,[!o(b)&&["crosswords","wordsearches"].includes(f.value)?(n(),C(xs,{key:0,loading:e.value,onForgotPassword:g,onGoogleBtn:w[0]||(w[0]=F=>e.value=!0),onSubmit:i},null,8,["loading"])):o(b)?(n(),C(Ds,{key:1,loading:e.value,onGoogleBtn:w[1]||(w[1]=F=>e.value=!0),onSubmit:i},null,8,["loading"])):(n(),C(we,{key:2,printing:t.value,loading:e.value,onForgotPassword:g,onSubmit:i},null,8,["printing","loading"]))]))}});export{xe as default};
